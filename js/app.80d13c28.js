(function(t){function e(e){for(var a,n,s=e[0],i=e[1],u=e[2],d=0,p=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(c,n)&&c[n]&&p.push(c[n][0]),c[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,s=1;s<r.length;s++){var i=r[s];0!==c[i]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},c={app:0},o=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/vueshop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"21fd":function(t,e,r){},"4bbd":function(t,e,r){"use strict";r("21fd")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23");function c(t,e,r,c,o,n){var s=Object(a["w"])("Header"),i=Object(a["w"])("router-view"),u=Object(a["w"])("Footer");return Object(a["r"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(s),Object(a["i"])(i),Object(a["i"])(u)],64)}var o={class:"page-header"},n=Object(a["f"])("img",{src:"img/logo.png",alt:"logo"},null,-1),s={class:"page-header-navbar-txt"},i=Object(a["f"])("a",{class:"page-header-navbar-txt-link",href:"#"},"Products",-1),u=Object(a["f"])("i",{class:"fas fa-shopping-cart cart-button-basket"},null,-1),l={class:"counter"},d=Object(a["f"])("span",{class:"page-header-txt"},"Trekking",-1);function p(t,e,r,c,p,b){var f=Object(a["w"])("router-link"),O=Object(a["w"])("search"),j=Object(a["w"])("navbar");return Object(a["r"])(),Object(a["e"])("header",o,[Object(a["i"])(j,{class:"page-header-navbar"},{default:Object(a["B"])((function(){return[Object(a["i"])(f,{to:"/",class:"page-header-navbar-img"},{default:Object(a["B"])((function(){return[n]})),_:1}),Object(a["f"])("div",s,[Object(a["i"])(O,{ref:"search",products:t.products,searchLine:t.searchLine},null,8,["products","searchLine"]),i,Object(a["i"])(f,{to:"Cart",class:"cart-button",type:"button",onClick:e[0]||(e[0]=function(e){return t.isVisibleCart=!t.isVisibleCart})},{default:Object(a["B"])((function(){return[u,Object(a["f"])("span",l,Object(a["y"])(b.cartCount),1)]})),_:1})])]})),_:1}),d])}var b={name:"Header",computed:{cartCount:function(){return this.$store.getters.getCart.reduce((function(t,e){return t+e.count}),0)}}};b.render=p;var f=b,O={class:"page-footer"},j={class:"page-footer-txt"},g=Object(a["f"])("span",{class:"page-footer-txt-title"},"trekking",-1),m=Object(a["f"])("p",{class:"page-footer-txt-paragraph"},"Наш интернет-магазин предлагает Вам большое количество товаров для трекинга. Выбирайте удобное и качественное снаряжение: Наша одежда - Ваш комфорт.",-1),h=Object(a["g"])('<div class="page-footer-links"><div class="page-footer-links-table"><a class="page-footer-links-table-col">credits </a><a class="page-footer-links-table-col">privacy </a><a class="page-footer-links-table-col">about </a><a class="page-footer-links-table-col">contact </a></div><p class="page-footer-links-design">Design by gialuca cosetta</p></div>',1);function v(t,e,r,c,o,n){var s=Object(a["w"])("footerform");return Object(a["r"])(),Object(a["e"])("footer",O,[Object(a["f"])("div",j,[g,m,Object(a["i"])(s)]),h])}var y={name:"Footer"};y.render=v;var C=y,k={components:{Header:f,Footer:C},mounted:function(){this.$store.dispatch("loadCatalog"),this.$store.dispatch("loadBasket")}};r("4bbd");k.render=c;var _=k,w=r("6c02"),P={class:"home"};function B(t,e,r,c,o,n){var s=Object(a["w"])("Products");return Object(a["r"])(),Object(a["e"])("div",P,[Object(a["i"])(s)])}var S={class:"main-products container"},T={class:"main-products container"};function x(t,e,r,c,o,n){var s=Object(a["w"])("Card");return Object(a["r"])(),Object(a["e"])("div",S,[Object(a["f"])("div",T,[(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["v"])(n.catalog,(function(t){return Object(a["r"])(),Object(a["d"])(s,{key:t.id,good:t},null,8,["good"])})),128))])])}var F={class:"main-products-product"},$=["src"],H={class:"main-products-product-name"},I={class:"main-products-product-price"},J=Object(a["f"])("span",null," рублей",-1);function L(t,e,r,c,o,n){return Object(a["r"])(),Object(a["e"])("div",F,[Object(a["f"])("img",{class:"main-products-product-img",src:r.good.img,alt:"photo",height:"189"},null,8,$),Object(a["f"])("span",H,Object(a["y"])(r.good.product_name),1),Object(a["f"])("span",I,[Object(a["h"])(Object(a["y"])(r.good.price),1),J]),Object(a["f"])("button",{onClick:e[0]||(e[0]=function(){return n.addToCart&&n.addToCart.apply(n,arguments)}),class:"main-products-product-button"},"Добавить в корзину")])}var M={name:"Card",props:["good"],methods:{addToCart:function(){this.$store.dispatch("loadToCart",this.good)}}};M.render=L;var E=M,D={name:"Catalog",components:{Card:E},computed:{catalog:function(){return this.$store.getters.getCatalog}}};D.render=x;var N=D,V={name:"Home",components:{Products:N}};V.render=B;var R=V,q={class:"home"};function z(t,e,r,c,o,n){var s=Object(a["w"])("Products"),i=Object(a["w"])("CartSection");return Object(a["r"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",q,[Object(a["i"])(s)]),Object(a["i"])(i)],64)}var A={class:"cart"},G=Object(a["g"])('<div class="cart_parametrs"><span class="cart_part">Название товара</span><span class="cart_part">Количество</span><span class="cart_part">Цена за шт.</span><span class="cart_part">Итого</span><span class="cart_part"></span></div>',1),K=Object(a["f"])("div",{class:"newProducts"},null,-1),Q={class:"cart_summ"},U=Object(a["h"])("Товаров в корзине на сумму:"),W={class:"basket_summ"},X=Object(a["h"])("рублей");function Y(t,e,r,c,o,n){var s=Object(a["w"])("BasketItem");return Object(a["r"])(),Object(a["e"])("div",A,[G,(Object(a["r"])(!0),Object(a["e"])(a["a"],null,Object(a["v"])(n.basket,(function(t){return Object(a["r"])(),Object(a["d"])(s,{key:t.id,good:t},null,8,["good"])})),128)),K,Object(a["f"])("div",Q,[Object(a["f"])("span",null,[U,Object(a["f"])("span",W,Object(a["y"])(n.totalSumm),1),X])])])}var Z={class:"newProducts"},tt={class:"basket-item",id:"{{ good.id_product }}"},et={class:"cart_part"},rt={class:"cart_part"},at={class:"product_number"},ct=Object(a["h"])(" шт."),ot={class:"cart_part"},nt={class:"product_price"},st=Object(a["h"])(" руб."),it={class:"cart_part"},ut={class:"summOfRow product_price"},lt=Object(a["h"])(" руб.");function dt(t,e,r,c,o,n){return Object(a["r"])(),Object(a["e"])("div",Z,[Object(a["f"])("div",tt,[Object(a["f"])("span",et,Object(a["y"])(r.good.product_name),1),Object(a["f"])("span",rt,[Object(a["f"])("span",at,Object(a["y"])(r.good.count),1),ct]),Object(a["f"])("span",ot,[Object(a["f"])("span",nt,Object(a["y"])(r.good.price),1),st]),Object(a["f"])("span",it,[Object(a["f"])("span",ut,Object(a["y"])(r.good.finishprice),1),lt]),Object(a["f"])("button",{onClick:e[0]||(e[0]=function(){return n.deleteFromBasket&&n.deleteFromBasket.apply(n,arguments)}),class:"deleteProduct","data-productId":"{{ good.id_product }}"},"Удалить товар")])])}var pt={name:"BasketItem",props:["good"],methods:{deleteFromBasket:function(){this.$store.dispatch("loadFromCart",this.good)}}};pt.render=dt;var bt=pt,ft={name:"Basket",components:{BasketItem:bt},computed:{basket:function(){return this.$store.getters.getCart},totalSumm:function(){return this.$store.getters.getCart.reduce((function(t,e){return t+e.finishprice}),0)}}};ft.render=Y;var Ot=ft,jt={name:"Cart",components:{Products:N,CartSection:Ot}};jt.render=z;var gt=jt,mt=[{path:"/",name:"Home",component:R},{path:"/cart",name:"Cart",component:gt}],ht=Object(w["a"])({history:Object(w["b"])("/vueshop/"),routes:mt}),vt=ht,yt=r("2909"),Ct=(r("99af"),r("7db0"),r("a434"),r("d3b7"),r("5502")),kt=Object(Ct["a"])({state:{catalog:[],cart:[]},getters:{getCatalog:function(t){return t.catalog},getCart:function(t){return t.cart}},mutations:{setCatalog:function(t,e){t.catalog=[].concat(Object(yt["a"])(t.catalog),Object(yt["a"])(e))},setBasket:function(t,e){t.cart=[].concat(Object(yt["a"])(t.cart),Object(yt["a"])(e))},addToCart:function(t,e){var r=t.cart.find((function(t){return t.id_product===e.id_product}));if(r)r.count++,r.finishprice=r.count*r.price,console.log(t.cart);else{var a=Object.assign({count:1,finishprice:e.price},e);t.cart.push(a),console.log(t.cart)}},deleteFromCart:function(t,e){if(e.count>1)e.count--,e.finishprice=e.count*e.price,this.totalSumm-=e.price;else{var r=t.cart.find((function(t){return t.id_product===e.id_product}));this.state.cart.splice(t.cart.indexOf(r),1),console.log(t.cart),this.totalSumm-=e.price}}},actions:{loadCatalog:function(t){var e=t.commit;return fetch("api/good").then((function(t){return t.json()})).then((function(t){e("setCatalog",t)}))},loadToCart:function(t,e){var r=t.commit;fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)}).then(r("addToCart",e))},loadFromCart:function(t,e){var r=t.commit;r("deleteFromCart",e),console.log(e),fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})},loadBasket:function(t){var e=t.commit;return fetch("/api/cart").then((function(t){return t.json()})).then((function(t){e("setBasket",t)}))}}});Object(a["c"])(_).use(kt).use(vt).mount("#app")}});
//# sourceMappingURL=app.80d13c28.js.map